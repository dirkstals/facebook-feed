var socket,socketStatusDomElement,socketTextDomElement,serverRestartButton,appRestartButton;var _init=function(){socket=io.connect();socket.on("connect",_onConnectionHandler);socket.on("disconnect",_onDisconnectionHandler);socket.on("error",_onErrorHandler);socketStatusDomElement=document.getElementById("socket-status");socketTextDomElement=document.getElementById("socket-text");appRestartButton=document.getElementById("refresh");serverRestartButton=document.getElementById("restart");appRestartButton.addEventListener("click",_onAppRestartClickHandler,false);serverRestartButton.addEventListener("click",_onServerRestartClickHandler,false)};var _onConnectionHandler=function(){socketStatusDomElement.classList.add("online");socketStatusDomElement.classList.remove("error");socketTextDomElement.textContent="connected"};var _onDisconnectionHandler=function(){socketStatusDomElement.classList.remove("online");socketStatusDomElement.classList.remove("error");socketTextDomElement.textContent="disconnected"};var _onErrorHandler=function(a){socketStatusDomElement.classList.remove("online");socketStatusDomElement.classList.add("error");socketTextDomElement.textContent="error "+a};var _onAppRestartClickHandler=function(a){a.preventDefault();socket.emit("refresh");_spawnRipple(a);return false};var _onServerRestartClickHandler=function(a){a.preventDefault();socket.emit("restart");_spawnRipple(a);return false};var _spawnRipple=function(a){var b=a.target;var c=a.pageX-b.offsetLeft;var d=a.pageY-b.offsetTop;var e=b.getAttribute("data-ripple-color")||"white";var f=b.getAttribute("data-ripple-opacity")||.5;var g=document.createElement("span");g.className="ripple-effect";g.style.left=c+"px";g.style.top=d+"px";g.style.backgroundColor=e;g.style.opacity=f;b.appendChild(g);setTimeout(function(){b.removeChild(g)}.bind(b),1e3)};_init();